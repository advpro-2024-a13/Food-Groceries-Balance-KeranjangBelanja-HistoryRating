name: "Sonarcloud Scanning"

on:
  pull_request:
    branches:
      - dev
      - master

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
        -   uses: actions/checkout@v3
            with:
                    fetch-depth: 0
        -   name: SonarCloud Scan
            uses: sonarsource/sonarcloud-github-action@master
            env:
                GITHUB_TOKEN: ${{ secrets.GIT_TOKEN }}
                SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
            with:
                args: >
                    -Dsonar.organization=advpro-2024-a13
                    -Dsonar.projectKey=advpro-2024-a13_Food-Groceries-Balance-KeranjangBelanja-HistoryRating
                    -Dsonar.java.binaries=.